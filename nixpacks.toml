[phases.setup]
# Use Node.js 22 (includes npm 11) to avoid npm@10 lockfile parsing issues
nixPkgs = ['nodejs_22']

[phases.install]
cmds = ['npm install']

[phases.build]
cmds = [
  'npm run build',
  'echo "Frontend build completed"'
]

[start]
cmd = 'serve -s dist -l $PORT'
